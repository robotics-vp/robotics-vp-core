# Drawer+Vase Physics Environment - State Mode
# Fei-Fei benchmark: Open drawer while avoiding fragile vase collision

env:
  type: drawer_vase_physics
  obs_mode: state
  render_mode: null  # No rendering during training

# Physics parameters
physics:
  control_dt: 0.0333  # 30 Hz control
  physics_dt: 0.00417  # 240 Hz simulation
  max_steps: 300
  gravity: -9.81

# Cabinet geometry
cabinet:
  pos: [0.0, 0.0, 0.5]
  size: [0.5, 0.4, 0.6]
  drawer_mass: 1.0
  drawer_friction: 0.3
  drawer_damping: 0.8
  drawer_max_extension: 0.35

# Vase (fragile object)
vase:
  pos: [0.3, 0.0, 0.8]
  radius: 0.04
  height: 0.12
  mass: 0.3
  fragility: 10.0  # Impulse threshold for breaking
  tip_angle: 30.0  # Degrees before tipping = broken

# End-effector
ee:
  start_pos: [-0.3, 0.0, 0.8]
  mass: 0.5
  max_force: 50.0
  max_velocity: 0.3

# Success/failure thresholds
thresholds:
  drawer_open_threshold: 0.9  # 90% open = success
  vase_collision_threshold: 5.0  # Max impulse before break
  sla_violation_contacts: 5  # Repeated high-risk contacts

# Economics (loaded from EconParams preset)
econ_preset: drawer_vase

# Training parameters
training:
  algorithm: sac
  learning_rate: 3e-4
  batch_size: 256
  buffer_size: 100000
  gamma: 0.99
  tau: 0.005
  episodes: 10000
  eval_every: 100

# Reward shaping (uses compute_econ_reward from Phase B)
reward:
  use_econ_reward: true
  clearance_bonus_coeff: 0.1  # Bonus for maintaining clearance
  impulse_penalty_coeff: 1.0  # Penalty for vase contact
  energy_penalty_coeff: 0.01  # Small energy cost
